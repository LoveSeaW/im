import{d as O,o as G,a as j,c as D,u as H,b as $,r as E,e as X,f as N,g as v,w as B,h as Y,i as z,j as J,E as R,k as V,l as b,m as L,n as K}from"./index.00362c69.js";const Z={id:"loginAnime",style:{width:"100%",height:"100%"}},ee=O({__name:"qq_color",setup(Q){return G(()=>{(function(){let I=document.getElementById("loginAnime"),m=I.getContext("2d",{alpha:!1});function y(e,t,s,o){m.fillStyle=o,m.beginPath(),m.moveTo(e[0],e[1]),m.lineTo(t[0],t[1]),m.lineTo(s[0],s[1]),m.fill()}function k(e){return e<.5?(e*=2,Math.pow(e,2)/2):(e=1-e,e*=2,1-Math.pow(e,2)/2)}function q(e,t,s,o,u){let a=e[0],c=e[1],h=0,p=0;o!=null&&(h=o-a),u!=null&&(p=u-c);let M=s/t;M%=2;let S;return M<1?S=k(M):S=1-k(M-1),[a+S*h,c+S*p]}function x(e,t,s,o,u){let a=o/s;a%=2,a>1&&(a=2-a);let c=e[0]+(t[0]-e[0])*a,h=e[1]+(t[1]-e[1])*a,p=e[2]+(t[2]-e[2])*a;if(u>0){let M=0;p!=0&&(M=(255-p)*u,p=(255-p)*u+p),h!=0&&(h+=M,h>255&&(h=255))}return c=parseInt(c.toString()),h=parseInt(h.toString()),p=parseInt(p.toString()),"rgb("+c+","+h+","+p+")"}function C(){let e=0,t=Math.random(),s=130+parseInt((t*30).toString()),o=160+parseInt((t*50).toString());return[e,s,o]}function F(){let e=0,t=Math.random();t=t/2+.5;let s=140+parseInt((t*45).toString()),o=180+parseInt((t*55).toString());return[e,s,o]}function d(e,t){let s=new Array(e);for(let o=0;o<e;o++)s[o]=new Array(t);return s}function _(e,t,s){let o=new Array(e);for(let u=0;u<e;u++){o[u]=new Array(t);for(let a=0;a<t;a++)o[u][a]=new Array(s)}return o}function w(e,t,s,o,u){for(let a=0;a<e.length;a++)for(let c=0;c<e[0].length;c++)e[a][c]=u-o*Math.sqrt((t-a)*(t-a)+(s-c)*(s-c))*.7,e[a][c]<0&&(e[a][c]=0)}function T(){let e=_(4,12,2),t=_(4,12,2),s=d(4,12);for(let l=0;l<4;l++)for(let i=0;i<12;i++)e[l][i][0]=i*140-600+parseInt((Math.random()*100).toString()),e[l][i][1]=l*188-120+parseInt((Math.random()*20).toString()),t[l][i][0]=e[l][i][0]+parseInt((Math.random()*260).toString()),t[l][i][1]=e[l][i][1]+parseInt((Math.random()*20).toString()),s[l][i]=5e3+parseInt((Math.random()*3e3).toString());let o=_(4,12,2),u=d(3,11),a=d(3,11),c=d(3,11),h=d(3,11),p=d(3,11),M=d(3,11),S=d(3,11),P=d(3,11),A=d(3,11),f=[Math.random()*.06-.03,Math.random()*.1-.05],g=[1+Math.random(),5+Math.random()];for(let l=0;l<3;l++)for(let i=0;i<11;i++)c[l][i]=C(),h[l][i]=C(),p[l][i]=F(),M[l][i]=F(),S[l][i]=1e3+parseInt((Math.random()*2e3).toString()),P[l][i]=1e3+parseInt((Math.random()*2e3).toString());let W=2e4+parseInt((Math.random()*2e4).toString());function U(l){let i=W+l;m.moveTo(0,0),m.fillStyle="#00a6d0",m.fillRect(0,0,I.width,I.height);for(let n=0;n<4;n++)for(let r=0;r<12;r++)o[n][r]=q(e[n][r],s[n][r],i,t[n][r][0],t[n][r][1]);f[0]+=(Math.random()-.5)*.028,f[1]+=(Math.random()-.5)*.04,f[0]>.3&&(f[0]=.3),f[0]<-.3&&(f[0]=-.3),f[1]>.6&&(f[1]=.6),f[1]<-.6&&(f[1]=-.6),g[0]+=f[0],g[1]+=f[1],g[0]<0&&(g[0]=0,f[0]=Math.random()*.014),g[0]>=3&&(g[0]=2.999,f[0]=Math.random()*-.014),g[1]<0&&(g[1]=0,f[1]=Math.random()*.02),g[1]>=11&&(g[1]=10.999,f[1]=Math.random()*-.02),w(A,g[0],g[1],.5,1);for(let n=0;n<11;n++)for(let r=0;r<3;r++)u[r][n]=x(c[r][n],p[r][n],S[r][n],i,A[r][n]),a[r][n]=x(h[r][n],M[r][n],P[r][n],i,A[r][n]),y(o[r][n],o[r][n+1],o[r+1][n],u[r][n]),y(o[r][n+1],o[r+1][n],o[r+1][n+1],a[r][n]),A[r][n]=0;window.requestAnimationFrame(U)}window.requestAnimationFrame(U)}T()})()}),(I,m)=>(j(),D("canvas",Z))}}),te={class:"fim_login"},oe={class:"banner"},ne={class:"login_form"},re=N("i",{class:"iconfont icon-yonghuming"},null,-1),ae=N("i",{class:"iconfont icon-mima"},null,-1),se={class:"other_login"},ie=N("div",{class:"label"},"\u7B2C\u4E09\u65B9\u767B\u9646",-1),le={class:"icons"},de=O({__name:"index",setup(Q){const I=H(),m=$(),y=E({userName:"",password:""}),k=E({userName:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",trigger:"blur"}],password:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801",trigger:"blur"}]}),q=X();async function x(){const d=I.query.flag,_=I.query.code;if(d&&_){let w=await J({code:_,flag:d});if(w.code){R.error(w.msg);return}R.success("\u767B\u9646\u6210\u529F"),m.setToken(w.data.token),V.push({name:"web"})}}x();async function C(){if(!await q.value.validate())return;let _=await K(y);if(_.code){R.error(_.msg);return}R.success("\u767B\u9646\u6210\u529F"),m.setToken(_.data.token);const w=I.query.redirect_url;if(w){V.push({path:w});return}V.push({name:"session_welcome"})}function F(){var d;window.open((d=m.settingsInfo.qq)==null?void 0:d.webPath,"_self")}return(d,_)=>{var o;const w=b("el-input"),T=b("el-form-item"),e=b("el-checkbox"),t=b("el-button"),s=b("el-form");return j(),D("div",te,[N("div",oe,[v(ee)]),N("div",ne,[v(s,{ref_key:"formRef",ref:q,model:y,rules:k},{default:B(()=>[v(T,{prop:"userName"},{default:B(()=>[v(w,{modelValue:y.userName,"onUpdate:modelValue":_[0]||(_[0]=u=>y.userName=u),placeholder:"\u7528\u6237\u540D"},{prefix:B(()=>[re]),_:1},8,["modelValue"])]),_:1}),v(T,{prop:"password",class:"item_password"},{default:B(()=>[v(w,{modelValue:y.password,"onUpdate:modelValue":_[1]||(_[1]=u=>y.password=u),type:"password",placeholder:"\u5BC6\u7801"},{prefix:B(()=>[ae]),_:1},8,["modelValue"])]),_:1}),v(T,{class:"item_action"},{default:B(()=>[v(e,null,{default:B(()=>[L("\u8BB0\u4F4F\u5BC6\u7801")]),_:1})]),_:1}),v(T,{class:"item_btn"},{default:B(()=>[v(t,{style:{width:"100%"},onClick:C,type:"primary"},{default:B(()=>[L("\u767B\u9646")]),_:1})]),_:1})]),_:1},8,["model","rules"]),N("div",se,[ie,N("div",le,[(o=Y(m).settingsInfo.qq)!=null&&o.enable?(j(),D("i",{key:0,class:"iconfont icon-QQ",onClick:F})):z("",!0)])])])])}}});export{de as default};
