import{_ as v}from"./fim_avatar.vue_vue_type_style_index_0_lang.0abc880b.js";import{d as $,b as G,e as r,c as m,g as a,w as u,l as p,a as o,h as t,K as c,y as h,L as A,i as N,m as W,f as g,F as j,z as U,ap as C}from"./index.00362c69.js";import{_ as K}from"./avatar_cropper.vue_vue_type_style_index_0_lang.71cbc4ee.js";import"./file_api.3df89dab.js";const q={class:"information_view"},H={key:1},I={class:"admins"},J={class:"creater"},M={class:"admin_list"},O={class:"admin"},ee=$({__name:"information",setup(P){const e=G(),f=r(!1),y=r(),D=r("");function E(n){f.value=!0,D.value=n,C(()=>{y.value.focus()})}function B(){f.value=!1,D.value!=e.groupData.title&&e.updateGroup()}const _=r(!1),w=r(),b=r("");function V(n){_.value=!0,b.value=n,C(()=>{w.value.focus()})}function z(){_.value=!1,b.value!=e.groupData.abstract&&e.updateGroup()}const s=r({type:"",allowTypeList:[],limitSize:1,fixedNumber:[],previewWidth:0}),k=r();function R(){e.groupData.role!==3&&(s.value={type:"browserLogo",allowTypeList:["png","jpg","jpeg"],limitSize:1,fixedNumber:[1,1],previewWidth:100},k.value.uploadFile())}async function L(n){e.groupData.avatar=n,e.updateGroup()}return(n,l)=>{const d=p("el-form-item"),x=p("el-input"),F=p("el-icon"),S=p("el-text"),T=p("el-form");return o(),m("div",q,[a(T,null,{default:u(()=>[a(K,{ref_key:"clipperRef",ref:k,"image-type":"group_avatar",type:s.value.type,"allow-type-list":s.value.allowTypeList,"limit-size":s.value.limitSize,"fixed-number":s.value.fixedNumber,"preview-width":s.value.previewWidth,onConfirm:L},null,8,["type","allow-type-list","limit-size","fixed-number","preview-width"]),a(d,{label:"\u7FA4\u5934\u50CF"},{default:u(()=>[a(v,{src:t(e).groupData.avatar,onClick:R},null,8,["src"])]),_:1}),a(d,{label:"\u7FA4\u540D\u79F0"},{default:u(()=>[f.value?(o(),c(x,{key:0,style:{width:"200px"},ref_key:"editNameRef",ref:y,onBlur:B,placeholder:"\u4FEE\u6539\u7FA4\u540D\u79F0",modelValue:t(e).groupData.title,"onUpdate:modelValue":l[0]||(l[0]=i=>t(e).groupData.title=i)},null,8,["modelValue"])):(o(),m("span",H,h(t(e).groupData.title),1)),t(e).groupData.role!=3?(o(),c(F,{key:2,size:18,class:"icon",onClick:l[1]||(l[1]=i=>E(t(e).groupData.title))},{default:u(()=>[a(t(A))]),_:1})):N("",!0)]),_:1}),a(d,{label:"\u7FA4\u4ECB\u7ECD"},{default:u(()=>[_.value?(o(),c(x,{key:0,type:"textarea",style:{width:"400px"},autosize:{minRows:3,maxRows:4},ref_key:"editAbstractRef",ref:w,onBlur:z,placeholder:"\u4FEE\u6539\u7FA4\u540D\u79F0",modelValue:t(e).groupData.abstract,"onUpdate:modelValue":l[2]||(l[2]=i=>t(e).groupData.abstract=i)},null,8,["modelValue"])):(o(),c(S,{key:1,truncated:""},{default:u(()=>[W(h(t(e).groupData.abstract),1)]),_:1})),t(e).groupData.role!=3?(o(),c(F,{key:2,size:18,class:"icon",onClick:l[3]||(l[3]=i=>V(t(e).groupData.abstract))},{default:u(()=>[a(t(A))]),_:1})):N("",!0)]),_:1}),a(d,{label:"\u7FA4\u4E3B/\u7BA1\u7406\u5458"}),g("div",I,[g("div",J,[a(v,{src:t(e).groupData.creator.avatart,title:t(e).groupData.creator.nickname},null,8,["src","title"])]),g("div",M,[(o(!0),m(j,null,U(t(e).groupData.adminList,i=>(o(),m("div",O,[a(v,{src:i.avatart,title:i.nickname},null,8,["src","title"])]))),256))])])]),_:1})])}}});export{ee as default};
