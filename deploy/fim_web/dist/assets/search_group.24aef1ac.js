import{d as E,u as A,b as D,r as v,x as F,e as G,c as p,g as i,f as o,F as I,z as N,i as V,l,a as t,K as d,w as u,m as s,y as c,a2 as O,E as S}from"./index.00362c69.js";import{_ as j}from"./search_dialog.vue_vue_type_style_index_0_lang.8710fe3f.js";import"./fim_avatar.vue_vue_type_style_index_0_lang.0abc880b.js";const P={class:"search_group_view"},U={class:"search_user_list"},$={class:"item"},q={class:"info"},K={class:"title"},L={class:"abstract"},M={class:"people"},R=o("i",{class:"iconfont icon-chuangjianqunliao"},null,-1),T={key:0,class:"no_data"},Y=E({__name:"search_group",setup(W){A();const m=D(),n=v({key:"",limit:4,page:1}),r=v({list:[],count:0});async function f(){let a=await O(n);a.code&&S.error(a.msg),r.list=a.data.list||[],r.count=a.data.count}F(()=>m.searchData,()=>{n.key=m.searchData.value,f()},{immediate:!0,deep:!0});function x(){f()}const g=G(!1),h=v({groupId:0,title:"",abstract:"",avatar:"",isInGroup:!1,userCount:0,userOnlineCount:0});function z(a){g.value=!0,Object.assign(h,a)}return(a,_)=>{var C;const y=l("el-avatar"),b=l("el-text"),k=l("el-button"),w=l("el-empty"),B=l("el-pagination");return t(),p("div",P,[i(j,{visible:g.value,"onUpdate:visible":_[0]||(_[0]=e=>g.value=e),"group-info":h,mode:"group"},null,8,["visible","group-info"]),o("div",U,[(t(!0),p(I,null,N(r.list,e=>(t(),p("div",$,[e.avatar.startsWith("/api")?(t(),d(y,{key:0,size:60,src:e.avatar},null,8,["src"])):(t(),d(y,{key:1,size:60,style:{"background-color":"#529b2e"}},{default:u(()=>[s(c(e.avatar),1)]),_:2},1024)),o("div",q,[o("div",K,[i(b,{style:{width:"13rem"},truncated:""},{default:u(()=>[s(c(e.title),1)]),_:2},1024)]),o("div",L,[i(b,{style:{width:"13rem"},truncated:""},{default:u(()=>[s(c(e.abstract),1)]),_:2},1024)]),o("div",M,[R,s(" "+c(e.userOnlineCount)+"/"+c(e.userCount),1)]),e.isInGroup?(t(),d(k,{key:0,type:"primary",size:"small"},{default:u(()=>[s("\u53BB\u804A\u5929")]),_:1})):(t(),d(k,{key:1,type:"primary",onClick:H=>z(e),size:"small"},{default:u(()=>[s("\u7533\u8BF7\u52A0\u7FA4")]),_:2},1032,["onClick"]))])]))),256))]),((C=r.list)==null?void 0:C.length)===0?(t(),p("div",T,[i(w,{"image-size":200,description:"\u6682\u65E0\u6570\u636E"})])):V("",!0),i(B,{class:"search_page",onCurrentChange:x,"hide-on-single-page":"","current-page":n.page,"onUpdate:currentPage":_[1]||(_[1]=e=>n.page=e),"default-page-size":n.limit,layout:"prev, pager, next",total:r.count},null,8,["current-page","default-page-size","total"])])}}});export{Y as default};
