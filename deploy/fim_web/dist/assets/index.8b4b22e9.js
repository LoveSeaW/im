import{d as D,u as B,l as _,a as c,c as l,F as E,z as G,A as k,h,f as t,y as o,g as e,w as n,m as d,k as L,b as V,r as y,B as z,C as S,D as w}from"./index.00362c69.js";import{F as T}from"./fim_slide_head.002e8b79.js";import{_ as $}from"./fim_event.vue_vue_type_script_setup_true_lang.1e9a9eb5.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./event_store.c213d25a.js";const J={class:"group_list_com"},R=["onClick"],W={class:"avatar"},j=["src"],q={key:1},H={class:"info"},K={class:"title"},P={class:"people"},b=D({__name:"group_list",props:{list:{}},setup(C){const p=B(),u=C;function v(f){L.push({name:"group_detail",params:{id:f.groupId}})}return(f,A)=>{const r=_("el-text");return c(),l("div",J,[(c(!0),l(E,null,G(u.list,a=>(c(),l("div",{class:k(["item",{active:Number(h(p).params.id)===a.groupId&&h(p).name==="group_detail"}]),onClick:m=>v(a)},[t("div",W,[a.groupAvatar.startsWith("/api")?(c(),l("img",{key:0,src:a.groupAvatar,alt:""},null,8,j)):(c(),l("span",q,o(a.groupAvatar),1))]),t("div",H,[t("div",K,[e(r,{style:{"max-width":"11rem"},truncated:""},{default:n(()=>[d(o(a.groupTitle),1)]),_:2},1024)]),t("div",P,o(a.groupMemberCount)+" \u4EBA",1)])],10,R))),256))])}}});const Q={class:"contact_view"},U={class:"contact_slide"},X={class:"contact_menu"},Y={class:"friend_list"},Z=["onClick"],tt={class:"avatar"},et=["src"],st={class:"info"},nt={class:"nickname"},at={class:"abstract"},ot={class:"contact_main"},pt=D({__name:"index",setup(C){V();const p=B(),u=y({list:[],count:0});async function v(){let s=await S({limit:-1});u.list=s.data.list||[],u.count=s.data.count}const f=z(()=>u.list.filter(s=>s.isOnline).length);v();function A(s){L.push({name:"user_detail",params:{id:s.userID}})}const r=y({list:[],count:0});async function a(){let s=await w(2);r.list=s.data.list||[],r.count=s.data.count}const m=y({list:[],count:0});async function F(){let s=await w(1);m.list=s.data.list||[],m.count=s.data.count}F(),a();function N(){F(),a()}return(s,it)=>{const g=_("el-sub-menu"),x=_("el-text"),I=_("el-menu"),M=_("el-scrollbar"),O=_("router-view");return c(),l("div",Q,[e($,{"event-key":"groupList",onEvent:N}),e($,{"event-key":"friendList",onEvent:v}),t("div",U,[e(T),t("div",X,[e(M,{height:"100%"},{default:n(()=>[e(I,{"default-openeds":["3"]},{default:n(()=>[e(g,{index:"1"},{title:n(()=>[t("span",null,"\u6211\u521B\u5EFA\u7684\u7FA4\u804A "+o(m.count),1)]),default:n(()=>[e(b,{list:m.list},null,8,["list"])]),_:1}),e(g,{index:"2"},{title:n(()=>[t("span",null,"\u6211\u52A0\u5165\u7684\u7FA4\u804A "+o(r.count),1)]),default:n(()=>[e(b,{list:r.list},null,8,["list"])]),_:1}),e(g,{index:"3"},{title:n(()=>[t("span",null,"\u6211\u7684\u597D\u53CB "+o(f.value)+"/"+o(u.count),1)]),default:n(()=>[t("div",Y,[(c(!0),l(E,null,G(u.list,i=>(c(),l("div",{class:k(["item",{active:Number(h(p).params.id)===i.userID&&h(p).name==="user_detail"}]),onClick:ct=>A(i)},[t("div",tt,[t("img",{src:i.avatar,alt:""},null,8,et),t("div",{class:k(["online_status",{online:i.isOnline}])},null,2)]),t("div",st,[t("div",nt,[e(x,{style:{"max-width":"5rem"},truncated:""},{default:n(()=>[d(o(i.nickname),1)]),_:2},1024),d(" \uFF08 "),e(x,{style:{"max-width":"4rem"},truncated:""},{default:n(()=>[d(o(i.notice===""?"-":i.notice),1)]),_:2},1024),d(" \uFF09 ")]),t("div",at,[e(x,{class:"w-150px mb-2",truncated:""},{default:n(()=>[d(o(i.abstract),1)]),_:2},1024)])])],10,Z))),256))])]),_:1})]),_:1})]),_:1})])]),t("div",ot,[e(O)])])}}});export{pt as default};
