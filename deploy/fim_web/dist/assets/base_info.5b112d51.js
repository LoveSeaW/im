import{d as V,b as h,e as r,x as k,c as E,g as c,w as _,F as A,z as y,l as i,a as d,f as v,K as D,i as I,aA as g,E as f}from"./index.00362c69.js";const w={class:"my_info_view"},U=V({__name:"base_info",setup(M){const u=h(),a=r([{label:"\u63D0\u9192",val:u.userConfInfo.friendOnline,key:"friendOnline",help:"\u5F00\u542F\u597D\u53CB\u4E0A\u7EBF\u63D0\u9192"},{label:"\u58F0\u97F3",val:u.userConfInfo.sound,key:"sound",help:"\u5173\u95ED\u6240\u6709\u58F0\u97F3"}]);r(),k(()=>u.userConfInfo,()=>{a.value[0].val=u.userConfInfo.friendOnline,a.value[1].val=u.userConfInfo.sound,u.userConfInfo.recallMessage&&(o.value=!0,s.value=u.userConfInfo.recallMessage)},{deep:!0});async function B(n){let e={};e[a.value[n].key]=a.value[n].val;let t=await g(e);if(t.code){f.error(t.msg);return}f.success(a.value[n].label+"\u8BBE\u7F6E\u4FEE\u6539\u6210\u529F")}const o=r(!1),s=r("\u64A4\u56DE\u4E86\u4E00\u6761\u6D88\u606F");async function m(n){if(n)return;o.value||(s.value="");let e=await g({recallMessage:s.value});if(e.code){f.error(e.msg);return}f.success("\u6D88\u606F\u4F1A\u8BDD\u8BBE\u7F6E\u6210\u529F")}return(n,e)=>{const t=i("el-checkbox"),C=i("el-input"),p=i("el-form-item");return d(),E("div",w,[c(p,{label:"\u4F1A\u8BDD"},{default:_(()=>[v("div",null,[v("div",null,[c(t,{modelValue:o.value,"onUpdate:modelValue":e[0]||(e[0]=l=>o.value=l),onChange:m,label:"\u64A4\u56DE\u6D88\u606F\u8BBE\u7F6E"},null,8,["modelValue"])]),v("div",null,[o.value?(d(),D(C,{key:0,style:{width:"300px"},onBlur:e[1]||(e[1]=l=>m(!1)),maxlength:32,placeholder:"\u64A4\u56DE\u6D88\u606F\u63D0\u793A\u8BCD",modelValue:s.value,"onUpdate:modelValue":e[2]||(e[2]=l=>s.value=l)},null,8,["modelValue"])):I("",!0)])])]),_:1}),(d(!0),E(A,null,y(a.value,(l,b)=>(d(),D(p,{label:l.label},{default:_(()=>[c(t,{modelValue:l.val,"onUpdate:modelValue":F=>l.val=F,label:l.help,onChange:F=>B(b)},null,8,["modelValue","onUpdate:modelValue","label","onChange"])]),_:2},1032,["label"]))),256))])}}});export{U as default};
