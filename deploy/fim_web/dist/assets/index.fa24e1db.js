import{d as T,l as r,a,c as n,f as t,g as o,y as d,w as i,h as F,aB as K,K as D,m as _,i as u,b as U,r as C,aC as J,aD as P,F as f,z as q,A as L,aE as j,aF as O,aG as R,E as N,aH as X}from"./index.00362c69.js";import{d as Y}from"./date.b8ea58a3.js";const Z={class:"notice_detail"},ss={class:"head"},ts={class:"send"},as={class:"center"},es=t("span",null,"\u7533\u8BF7",-1),ns={class:"rev"},is={class:"body"},os={class:"item"},us=t("span",{class:"label"},"\u7533\u8BF7\u65F6\u95F4",-1),ls={class:"val"},cs={class:"item"},ds=t("span",{class:"label"},"\u9644\u52A0\u6D88\u606F",-1),_s={class:"val"},rs=t("div",{class:"item"},[t("span",{class:"label"},"\u9A8C\u8BC1\u6D88\u606F")],-1),vs={key:0,class:"verificationQuestion"},ps={key:0,class:"item"},hs=t("span",{class:"label"},"\u95EE\u98981",-1),fs={class:"question"},ks=t("span",{class:"label"},"\u7B54\u6848",-1),ys={class:"answer"},ms={key:1,class:"item"},Fs=t("span",{class:"label"},"\u95EE\u98982",-1),Ds={class:"question"},gs=t("span",{class:"label"},"\u7B54\u6848",-1),As={class:"answer"},Cs={key:2,class:"item"},$s=t("span",{class:"label"},"\u95EE\u98983",-1),bs={class:"question"},ws=t("span",{class:"label"},"\u7B54\u6848",-1),Bs={class:"answer"},xs=T({__name:"valid_detail",props:{data:{}},setup(z){const l=z;return($,Q)=>{var b,y,A,w,k,c;const p=r("el-avatar"),g=r("el-icon");return a(),n("div",Z,[t("div",ss,[t("div",ts,[o(p,{size:50,src:l.data.sendAvatar},null,8,["src"]),t("span",null,d(l.data.sendName),1)]),t("div",as,[o(g,{size:"20"},{default:i(()=>[o(F(K))]),_:1}),es]),t("div",ns,[l.data.revAvatar.startsWith("/api")||l.data.revAvatar.startsWith("http")?(a(),D(p,{key:0,size:50,src:l.data.revAvatar},null,8,["src"])):(a(),D(p,{key:1,size:50,style:{"background-color":"#529b2e"}},{default:i(()=>[_(d(l.data.revAvatar),1)]),_:1})),t("span",null,d(l.data.revName),1)])]),t("div",is,[t("div",os,[us,t("span",ls,d(F(Y)(l.data.createdAt)),1)]),t("div",cs,[ds,t("span",_s,d(l.data.additionalMessages),1)]),rs,l.data.verificationQuestion?(a(),n("div",vs,[l.data.verificationQuestion.problem1?(a(),n("div",ps,[hs,t("span",fs,d((b=l.data.verificationQuestion)==null?void 0:b.problem1),1),t("div",null,[ks,t("span",ys,d((y=l.data.verificationQuestion)==null?void 0:y.answer1),1)])])):u("",!0),l.data.verificationQuestion.problem2?(a(),n("div",ms,[Fs,t("span",Ds,d((A=l.data.verificationQuestion)==null?void 0:A.problem2),1),t("div",null,[gs,t("span",As,d((w=l.data.verificationQuestion)==null?void 0:w.answer2),1)])])):u("",!0),l.data.verificationQuestion.problem3?(a(),n("div",Cs,[$s,t("span",bs,d((k=l.data.verificationQuestion)==null?void 0:k.problem2),1),t("div",null,[ws,t("span",Bs,d((c=l.data.verificationQuestion)==null?void 0:c.answer3),1)])])):u("",!0)])):u("",!0)])])}}});const Ns={class:"notice_view"},Qs={class:"notice_slide"},Ss=t("span",null,"\u597D\u53CB\u9A8C\u8BC1",-1),zs={class:"valid_list"},Es=["onClick"],Vs={class:"center"},Ms={class:"right"},Is={key:2,class:"status_1"},Gs={key:3,class:"status_2"},qs={key:4,class:"status_3"},Ls={key:0},js={key:1,class:"status_1"},Os={key:2,class:"status_2"},Ts={key:3,class:"status_3"},Ws={key:2,class:"icon"},Hs=t("span",null,"\u7FA4\u7CFB\u7EDF\u6D88\u606F",-1),Ks={class:"valid_list group_valid_list"},Us=["onClick"],Js={class:"center"},Ps={class:"right"},Rs={key:1,class:"status_1"},Xs={key:2,class:"status_2"},Ys={key:3,class:"status_3"},Zs={key:1,class:"icon"},st={class:"notice_main"},et=T({__name:"index",setup(z){const l=U(),$=C({list:[],count:0});async function Q(){let e=await J();$.list=e.data.list||[],$.count=e.data.count}async function p(e,B){let h=await R({status:B,verifyId:e});if(h.code){N.error(h.msg);return}N.success("\u6210\u529F"),Q()}const g=C({userID:0,nickname:"",avatar:"",additionalMessages:"",verificationQuestion:void 0,status:0,sendStatus:0,revStatus:0,verification:0,id:0,flag:"send",createdAt:""});function b(e){Object.assign(g,e),e.flag==="send"?(c.sendName=l.userInfo.nickname,c.sendAvatar=l.userInfo.avatar,c.revName=e.nickname,c.revAvatar=e.avatar):(c.sendName=e.nickname,c.sendAvatar=e.avatar,c.revName=l.userInfo.nickname,c.revAvatar=l.userInfo.avatar),c.createdAt=e.createdAt,c.additionalMessages=e.additionalMessages,c.verificationQuestion=e.verificationQuestion}Q();const y=C({list:[],count:0});async function A(){let e=await P();y.list=e.data.list||[],y.count=e.data.count}function w(e){Object.assign(S,e),c.sendName=e.userNickname,c.sendAvatar=e.userAvatar,c.revName=e.title,c.revAvatar=e.title[0],c.createdAt=e.createdAt,c.additionalMessages=e.additionalMessages,c.verificationQuestion=e.verificationQuestion}async function k(e,B){let h=await X({status:B,validId:e});if(h.code){N.error(h.msg);return}N.success("\u6210\u529F"),A()}const c=C({sendAvatar:"",sendName:"",revAvatar:"",revName:"",createdAt:"",additionalMessages:"",verificationQuestion:void 0}),S=C({id:0,grouId:0,userId:0,userNickname:"",userAvatar:"",status:0,additionalMessages:"",verificationQuestion:void 0,title:"",createdAt:"",type:0});return A(),(e,B)=>{const h=r("el-avatar"),x=r("el-text"),m=r("el-button"),E=r("el-dropdown-item"),V=r("el-dropdown"),M=r("el-button-group"),I=r("el-icon"),G=r("el-sub-menu"),W=r("el-menu"),H=r("el-scrollbar");return a(),n("div",Ns,[t("div",Qs,[o(H,{height:"100%"},{default:i(()=>[o(W,{"default-openeds":["1","2"]},{default:i(()=>[o(G,{index:"1"},{title:i(()=>[Ss]),default:i(()=>[t("div",zs,[(a(!0),n(f,null,q($.list,s=>(a(),n("div",{class:L(["item",{active:g.id===s.id}]),onClick:v=>b(s)},[o(h,{class:"left",src:s.avatar,size:40},null,8,["src"]),t("div",Vs,[o(x,{class:"nickname",truncated:"",style:{"max-width":"10rem"}},{default:i(()=>[_(d(s.nickname),1)]),_:2},1024),o(x,{class:"msg",truncated:"",style:{"max-width":"10rem"}},{default:i(()=>[_("\u9644\u52A0\u6D88\u606F\uFF1A"+d(s.additionalMessages),1)]),_:2},1024)]),t("div",Ms,[s.flag==="rev"?(a(),n(f,{key:0},[s.revStatus===0?(a(),D(M,{key:0},{default:i(()=>[o(m,{type:"primary",onClick:v=>p(s.id,1),size:"small"},{default:i(()=>[_("\u540C\u610F")]),_:2},1032,["onClick"]),o(V,null,{dropdown:i(()=>[o(E,{onClick:v=>p(s.id,2)},{default:i(()=>[_("\u62D2\u7EDD")]),_:2},1032,["onClick"])]),default:i(()=>[o(m,{style:{width:"20px"},icon:F(j),size:"small"},null,8,["icon"])]),_:2},1024)]),_:2},1024)):u("",!0),s.revStatus===0?(a(),D(m,{key:1,style:{"margin-left":"5px"},onClick:v=>p(s.id,3),size:"small"},{default:i(()=>[_("\u5FFD\u7565 ")]),_:2},1032,["onClick"])):u("",!0),s.revStatus===1?(a(),n("span",Is,"\u5DF2\u540C\u610F")):u("",!0),s.revStatus===2?(a(),n("span",Gs,"\u5DF2\u62D2\u7EDD")):u("",!0),s.revStatus===3?(a(),n("span",qs,"\u5DF2\u5FFD\u7565")):u("",!0)],64)):u("",!0),s.flag==="send"?(a(),n(f,{key:1},[s.revStatus===0?(a(),n("span",Ls,"\u7B49\u5F85\u5BF9\u65B9\u9A8C\u8BC1")):u("",!0),s.revStatus===1?(a(),n("span",js,"\u5BF9\u65B9\u5DF2\u540C\u610F")):u("",!0),s.revStatus===2?(a(),n("span",Os,"\u5BF9\u65B9\u5DF2\u62D2\u7EDD")):u("",!0),s.revStatus===3?(a(),n("span",Ts,"\u5BF9\u65B9\u5DF2\u5FFD\u7565")):u("",!0)],64)):u("",!0),s.revStatus!==0?(a(),n("div",Ws,[o(I,{size:"14",onClick:v=>p(s.id,4)},{default:i(()=>[o(F(O))]),_:2},1032,["onClick"])])):u("",!0)])],10,Es))),256))])]),_:1}),o(G,{index:"2"},{title:i(()=>[Hs]),default:i(()=>[t("div",Ks,[(a(!0),n(f,null,q(y.list,s=>(a(),n("div",{class:L(["item",{active:S.id===s.id}]),onClick:v=>w(s)},[o(h,{class:"left",src:s.userAvatar,size:40},null,8,["src"]),t("div",Js,[o(x,{class:"nickname",truncated:"",style:{"max-width":"10rem"}},{default:i(()=>[s.type===1?(a(),n(f,{key:0},[_(d(s.userNickname)+"\u7533\u8BF7\u52A0\u5165\u7FA4 "+d(s.title),1)],64)):u("",!0),s.type===2?(a(),n(f,{key:1},[_(d(s.userNickname)+"\u9000\u51FA\u7FA4 "+d(s.title),1)],64)):u("",!0)]),_:2},1024),s.type===1?(a(),D(x,{key:0,class:"msg",truncated:"",style:{"max-width":"10rem"}},{default:i(()=>[_("\u9644\u52A0\u6D88\u606F\uFF1A"+d(s.additionalMessages),1)]),_:2},1024)):u("",!0)]),t("div",Ps,[s.type===1?(a(),n(f,{key:0},[s.status===0?(a(),n(f,{key:0},[o(M,null,{default:i(()=>[o(m,{type:"primary",onClick:v=>k(s.id,1),size:"small"},{default:i(()=>[_("\u540C\u610F")]),_:2},1032,["onClick"]),o(V,null,{dropdown:i(()=>[o(E,{onClick:v=>k(s.id,2)},{default:i(()=>[_("\u62D2\u7EDD")]),_:2},1032,["onClick"])]),default:i(()=>[o(m,{style:{width:"20px"},icon:F(j),size:"small"},null,8,["icon"])]),_:2},1024)]),_:2},1024),o(m,{style:{"margin-left":"5px"},onClick:v=>k(s.id,3),size:"small"},{default:i(()=>[_("\u5FFD\u7565 ")]),_:2},1032,["onClick"])],64)):u("",!0),s.status===1?(a(),n("span",Rs,"\u5DF2\u540C\u610F")):u("",!0),s.status===2?(a(),n("span",Xs,"\u5DF2\u62D2\u7EDD")):u("",!0),s.status===3?(a(),n("span",Ys,"\u5DF2\u5FFD\u7565")):u("",!0)],64)):u("",!0),s.status!==0?(a(),n("div",Zs,[o(I,{size:"14",onClick:v=>k(s.id,4)},{default:i(()=>[o(F(O))]),_:2},1032,["onClick"])])):u("",!0)])],10,Us))),256))])]),_:1})]),_:1})]),_:1})]),t("div",st,[g.id||S.id?(a(),D(xs,{key:0,data:c},null,8,["data"])):u("",!0)])])}}});export{et as default};
