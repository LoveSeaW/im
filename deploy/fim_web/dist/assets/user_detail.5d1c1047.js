import{d as B,u as U,r as R,x as A,e as w,c as S,g as s,w as o,f as e,m as n,y as _,k as m,l as i,a as O,H as T,E as c,I as j,J as q}from"./index.00362c69.js";import{e as z}from"./event_store.c213d25a.js";import{_ as H}from"./fim_friend_notice.vue_vue_type_style_index_0_lang.4d729b40.js";const J={class:"user_detail_view"},K={class:"dialog-footer"},L={class:"top"},M={class:"left"},$={class:"nickname"},G={class:"item"},P=e("span",{class:"label"},"ID",-1),Q={class:"val"},W={class:"item"},X=e("span",{class:"label"},"\u5907\u6CE8",-1),Y={class:"val"},Z={class:"item"},ee=e("span",{class:"label"},"\u7B80\u4ECB",-1),te={class:"val"},se={class:"right"},oe={class:"more"},ae=e("i",{class:"iconfont icon-more"},null,-1),ne={class:"avatar"},ie={class:"bottom"},re=B({__name:"user_detail",setup(ue){const g=z(),p=U(),t=R({nickname:"",notice:"",userID:0,abstract:"",avatar:"",isOnline:!1});async function C(){let a=await T({friendID:Number(p.params.id)});if(a.code){c.error(a.msg);return}Object.assign(t,a.data)}A(()=>p.params.id,()=>{C()},{immediate:!0});const d=w(!1),f=w();function k(){d.value=!0,setTimeout(()=>{f.value.focus()},100)}async function y(){let a=await j(t.userID,t.notice);if(a.code){c.error(a.msg);return}c.success("\u4FEE\u6539\u6210\u529F"),d.value=!1}function v(){m.push({name:"session_user_chat",params:{id:t.userID}})}function E(){m.push({name:"session_user_info",params:{id:t.userID}})}async function F(){let a=await q(t.userID);if(a.code){c.error(a.msg);return}c.success("\u5220\u9664\u597D\u53CB\u6210\u529F"),g.setEventKey("friendList"),m.push({name:"welcome"})}return(a,u)=>{const V=i("el-input"),h=i("el-button"),b=i("el-dialog"),D=i("el-text"),r=i("el-dropdown-item"),I=i("el-dropdown-menu"),x=i("el-dropdown"),N=i("el-avatar");return O(),S("div",J,[s(b,{modelValue:d.value,"onUpdate:modelValue":u[1]||(u[1]=l=>d.value=l),width:"30%",title:"\u4FEE\u6539\u597D\u53CB\u5907\u6CE8"},{footer:o(()=>[e("div",K,[s(h,{type:"primary",onClick:y},{default:o(()=>[n(" \u786E\u5B9A ")]),_:1})])]),default:o(()=>[s(V,{ref_key:"updateNoticeRef",ref:f,placeholder:"\u5907\u6CE8",modelValue:t.notice,"onUpdate:modelValue":u[0]||(u[0]=l=>t.notice=l)},null,8,["modelValue"])]),_:1},8,["modelValue"]),e("div",L,[e("div",M,[e("div",$,[s(D,{style:{"max-width":"10rem"},truncated:""},{default:o(()=>[n(_(t.nickname),1)]),_:1}),n(" \uFF08 "),s(D,{style:{"max-width":"15rem"},truncated:""},{default:o(()=>[n(_(t.notice===""?"-":t.notice),1)]),_:1}),n(" \uFF09 ")]),e("div",G,[P,e("span",Q,_(t.userID),1)]),e("div",W,[X,e("div",Y,[s(H,{"friend-id":t.userID,modelValue:t.notice,"onUpdate:modelValue":u[2]||(u[2]=l=>t.notice=l)},null,8,["friend-id","modelValue"])])]),e("div",Z,[ee,e("span",te,_(t.abstract),1)])]),e("div",se,[e("div",oe,[s(x,{trigger:"click"},{dropdown:o(()=>[s(I,null,{default:o(()=>[s(r,{onClick:v},{default:o(()=>[n("\u53D1\u9001\u6D88\u606F")]),_:1}),s(r,{onClick:E},{default:o(()=>[n("\u7528\u6237\u8D44\u6599")]),_:1}),s(r,{onClick:k},{default:o(()=>[n("\u4FEE\u6539\u5907\u6CE8")]),_:1}),s(r,{onClick:F,style:{color:"red"}},{default:o(()=>[n("\u5220\u9664\u7528\u6237")]),_:1})]),_:1})]),default:o(()=>[ae]),_:1})]),e("div",ne,[s(N,{size:60,shape:"square",src:t.avatar},null,8,["src"])])])]),e("div",ie,[s(h,{type:"primary",onClick:v},{default:o(()=>[n("\u53D1\u9001\u6D88\u606F")]),_:1})])])}}});export{re as default};
