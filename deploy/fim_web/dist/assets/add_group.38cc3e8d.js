import{d as z,r as A,e as g,c as i,f as r,A as k,g as o,w as u,i as y,C as h,Q as S,E as C,l as s,a as d,m as l,F as I,z as N,K as U,y as K}from"./index.00362c69.js";import{e as R}from"./event_store.c213d25a.js";const $={class:"add_group_view"},q={class:"head"},M={class:"body"},Q={key:0},T={key:1},j={class:"nickname"},O=z({__name:"add_group",setup(G){const E=R(),e=A({mode:1,name:"",size:10,isSearch:!1,userIdList:[]}),V=A({name:[{required:!0,message:"\u8BF7\u8F93\u5165\u7FA4\u540D\u79F0",trigger:"blur"}]}),c=g([]);async function B(){const n=await h({limit:-1});c.value=n.data.list||[]}B();const p=g();async function f(){if(e.mode===1&&await p.value.validate())return;let n=await S(e);if(n.code){C.error(n.msg);return}C.success("\u521B\u5EFA\u6210\u529F"),E.setEventKey("groupList")}return(n,t)=>{const b=s("el-input"),m=s("el-form-item"),F=s("el-checkbox"),_=s("el-radio"),x=s("el-radio-group"),v=s("el-button"),D=s("el-form"),L=s("el-avatar"),w=s("el-checkbox-group");return d(),i("div",$,[r("div",q,[r("span",{onClick:t[0]||(t[0]=a=>e.mode=1),class:k({active:e.mode===1})},"\u76F4\u63A5\u521B\u5EFA",2),r("span",{onClick:t[1]||(t[1]=a=>e.mode=2),class:k({active:e.mode===2})},"\u9009\u4EBA\u521B\u5EFA",2)]),r("div",M,[e.mode===1?(d(),i("div",Q,[o(D,{ref_key:"formRef",ref:p,model:e,rules:V},{default:u(()=>[o(m,{label:"\u7FA4\u540D\u79F0",prop:"name"},{default:u(()=>[o(b,{placeholder:"\u8BF7\u8F93\u5165\u7FA4\u540D\u79F0",modelValue:e.name,"onUpdate:modelValue":t[2]||(t[2]=a=>e.name=a)},null,8,["modelValue"])]),_:1}),o(m,{label:"\u7FA4\u641C\u7D22"},{default:u(()=>[o(F,{modelValue:e.isSearch,"onUpdate:modelValue":t[3]||(t[3]=a=>e.isSearch=a)},{default:u(()=>[l("\u53EF\u4EE5\u901A\u8FC7\u7FA4\u540D\u79F0\u641C\u7D22\u5230")]),_:1},8,["modelValue"])]),_:1}),o(m,{label:"\u7FA4\u89C4\u6A21"},{default:u(()=>[o(x,{modelValue:e.size,"onUpdate:modelValue":t[4]||(t[4]=a=>e.size=a)},{default:u(()=>[o(_,{value:10},{default:u(()=>[l("10\u4EBA\u7FA4")]),_:1}),o(_,{value:100},{default:u(()=>[l("100\u4EBA\u7FA4")]),_:1}),o(_,{value:200},{default:u(()=>[l("200\u4EBA\u7FA4")]),_:1})]),_:1},8,["modelValue"])]),_:1}),o(v,{type:"primary",onClick:f},{default:u(()=>[l("\u521B\u5EFA\u7FA4")]),_:1})]),_:1},8,["model","rules"])])):y("",!0),e.mode===2?(d(),i("div",T,[o(w,{modelValue:e.userIdList,"onUpdate:modelValue":t[5]||(t[5]=a=>e.userIdList=a)},{default:u(()=>[(d(!0),i(I,null,N(c.value,a=>(d(),U(F,{value:a.userID},{default:u(()=>[o(L,{src:a.avatar,size:40},null,8,["src"]),r("span",j,K(a.nickname),1)]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"]),o(v,{type:"primary",onClick:f},{default:u(()=>[l("\u521B\u5EFA\u7FA4")]),_:1})])):y("",!0)])])}}});export{O as default};
